generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "mysql"
  url      = env("DATABASE_URL")
}

model accesstoken {
  token         String   @unique(map: "token_UNIQUE") @db.Char(64)
  user_id       Int      @unique(map: "user_id_UNIQUE")
  created_at    DateTime @db.DateTime(0)
  accesstokenID Int      @id @default(autoincrement())
  user          user     @relation(fields: [user_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "User_ID")

  @@index([user_id], map: "User_ID_idx")
}

model activity {
  id          Int        @id @default(autoincrement())
  name        String     @db.VarChar(255)
  description String     @db.VarChar(255)
  persons     Int
  favorite    favorite[]
}

model favorite {
  user_id     Int
  activity_id Int
  favoritecol Int      @id @default(autoincrement())
  activity    activity @relation(fields: [activity_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "favoriteActivityID")
  user        user     @relation(fields: [user_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "favoriteUserID")

  @@index([activity_id], map: "favoriteActivityID_idx")
  @@index([user_id], map: "favoriteUserID_idx")
}

model user {
  id          Int          @id @default(autoincrement())
  email       String       @unique(map: "email") @db.VarChar(255)
  password    String       @db.Char(60)
  accesstoken accesstoken?
  favorite    favorite[]
}
